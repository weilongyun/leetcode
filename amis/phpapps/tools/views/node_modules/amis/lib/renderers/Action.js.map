{
    "version": 3,
    "file": "Action.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Action.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {Renderer, RendererProps} from '../factory';\nimport {filter} from '../utils/tpl';\nimport Button from '../components/Button';\nimport pick from 'lodash/pick';\n\nexport interface ButtonSchema extends BaseSchema {\n  /**\n   * 是否为块状展示，默认为内联。\n   */\n  block?: boolean;\n\n  /**\n   * 禁用时的文案提示。\n   */\n  disabledTip?: string;\n\n  /**\n   * 按钮图标， iconfont 的类名\n   */\n  icon?: SchemaIcon;\n\n  /**\n   * icon 上的css 类名\n   */\n  iconClassName?: SchemaClassName;\n\n  /**\n   * 按钮文字\n   */\n  label?: string;\n\n  /**\n   * 按钮样式\n   */\n  level?:\n    | 'info'\n    | 'success'\n    | 'warning'\n    | 'danger'\n    | 'link'\n    | 'primary'\n    | 'dark';\n\n  /**\n   * @deprecated 通过 level 来配置\n   */\n  primary?: boolean;\n\n  /**\n   * 按钮大小\n   */\n  size?: 'xs' | 'sm' | 'md' | 'lg';\n\n  tooltip?: SchemaTooltip;\n  tooltipPlacement?: 'top' | 'right' | 'bottom' | 'left';\n\n  /**\n   * 指定按钮类型，支持 button、submit或者reset三种类型。\n   */\n  type: 'button' | 'submit' | 'reset';\n\n  /**\n   * 提示文字，配置了操作前会要求用户确认。\n   */\n  confirmText?: string;\n\n  /**\n   * 如果按钮在form中，配置此属性会要求用户把指定的字段通过验证后才会触发行为。\n   */\n  required?: Array<string>;\n\n  /**\n   * 激活状态时的样式\n   */\n  activeLevel?: string;\n\n  /**\n   * 激活状态时的类名\n   */\n  activeClassName?: string;\n\n  /**\n   * 如果按钮在弹框中，可以配置这个动作完成后是否关闭弹窗，或者指定关闭目标弹框。\n   */\n  close?: boolean | string;\n\n  /**\n   * 当按钮时批量操作按钮时，默认必须有勾选元素才能可点击，如果此属性配置成 false，则没有点选成员也能点击。\n   */\n  requireSelected?: boolean;\n\n  /**\n   * 是否将弹框中数据 merge 到父级作用域。\n   */\n  mergeData?: boolean;\n\n  /**\n   * 可以指定让谁来触发这个动作。\n   */\n  target?: string;\n}\n\nexport interface AjaxActionSchema extends ButtonSchema {\n  /**\n   * 指定为发送 ajax 的行为。\n   */\n  actionType: 'ajax';\n\n  /**\n   * 配置 ajax 发送地址\n   */\n  api: SchemaApi;\n\n  feedback?: DialogSchemaBase;\n\n  reload?: SchemaReload;\n  redirect?: string;\n}\n\nexport interface UrlActionSchema extends ButtonSchema {\n  /**\n   * 指定为打开链接\n   */\n  actionType: 'url';\n\n  /**\n   * 是否新窗口打开\n   */\n  blank?: boolean;\n\n  /**\n   * 打开的目标地址\n   */\n  url: string;\n}\n\nexport interface DialogActionSchema extends ButtonSchema {\n  /**\n   * 指定为打开弹窗\n   */\n  actionType: 'dialog';\n\n  /**\n   * 弹框详情\n   * 文档：https://baidu.gitee.io/amis/docs/components/dialog\n   */\n  dialog: DialogSchemaBase;\n\n  /**\n   * 是否有下一个的表达式，正常可以不用配置，如果想要刷掉某些数据可以配置这个。\n   */\n  nextCondition?: SchemaExpression;\n  reload?: SchemaReload;\n  redirect?: string;\n}\n\nexport interface DrawerActionSchema extends ButtonSchema {\n  /**\n   * 指定为打开弹窗，抽出式弹窗\n   */\n  actionType: 'drawer';\n\n  /**\n   * 抽出式弹框详情\n   * 文档：https://baidu.gitee.io/amis/docs/components/drawer\n   */\n  drawer: DrawerSchemaBase;\n\n  /**\n   * 是否有下一个的表达式，正常可以不用配置，如果想要刷掉某些数据可以配置这个。\n   */\n  nextCondition?: SchemaExpression;\n  reload?: SchemaReload;\n  redirect?: string;\n}\n\nexport interface CopyActionSchema extends ButtonSchema {\n  /**\n   * 指定为复制内容行为\n   */\n  actionType: 'copy';\n\n  /**\n   * 复制啥内容由此配置，支持模板语法。\n   */\n  copy: SchemaTpl;\n}\n\nexport interface LinkActionSchema extends ButtonSchema {\n  /**\n   * 指定为打开链接行为，跟 url 不同的时这个行为为单页模式。\n   */\n  actionType: 'link';\n\n  /**\n   * 跳转到哪？支持配置相对路径。\n   */\n  link: string;\n}\n\nexport interface ReloadActionSchema extends ButtonSchema {\n  /**\n   * 指定为刷新目标组件。\n   */\n  actionType: 'reload';\n\n  /**\n   * 指定目标组件。\n   */\n  target?: SchemaReload;\n}\n\nexport interface OtherActionSchema extends ButtonSchema {\n  actionType:\n    | 'prev'\n    | 'next'\n    | 'cancel'\n    | 'close'\n    | 'submit'\n    | 'confirm'\n    | 'add';\n  [propName: string]: any;\n}\n\nexport interface VanillaAction extends ButtonSchema {\n  actionType?: string;\n}\n\n/**\n * 按钮动作渲染器。\n * 文档：https://baidu.gitee.io/amis/docs/components/action\n */\nexport type ActionSchema =\n  | AjaxActionSchema\n  | UrlActionSchema\n  | LinkActionSchema\n  | DialogActionSchema\n  | DrawerActionSchema\n  | CopyActionSchema\n  | ReloadActionSchema\n  | OtherActionSchema\n  | VanillaAction;\n\nconst ActionProps = [\n  'dialog',\n  'drawer',\n  'url',\n  'link',\n  'confirmText',\n  'tooltip',\n  'disabledTip',\n  'className',\n  'asyncApi',\n  'redirect',\n  'size',\n  'level',\n  'primary',\n  'feedback',\n  'api',\n  'blank',\n  'tooltipPlacement',\n  'to',\n  'content',\n  'required',\n  'type',\n  'actionType',\n  'label',\n  'icon',\n  'reload',\n  'target',\n  'close',\n  'messages',\n  'mergeData',\n  'index',\n  'copy',\n  'payload',\n  'requireSelected'\n];\nimport {filterContents} from './Remark';\nimport {ClassNamesFn, themeable, ThemeProps} from '../theme';\nimport {autobind} from '../utils/helper';\nimport {\n  BaseSchema,\n  SchemaApi,\n  SchemaClassName,\n  SchemaExpression,\n  SchemaIcon,\n  SchemaReload,\n  SchemaTooltip,\n  SchemaTpl\n} from '../Schema';\nimport {DialogSchema, DialogSchemaBase} from './Dialog';\nimport {DrawerSchema, DrawerSchemaBase} from './Drawer';\n\nexport interface ActionProps\n  extends ButtonSchema,\n    ThemeProps,\n    AjaxActionSchema,\n    UrlActionSchema,\n    LinkActionSchema,\n    DialogActionSchema,\n    DrawerActionSchema,\n    CopyActionSchema,\n    ReloadActionSchema,\n    OtherActionSchema {\n  actionType: any;\n  onAction?: (\n    e: React.MouseEvent<any> | void | null,\n    action: ActionSchema\n  ) => void;\n  isCurrentUrl?: (link: string) => boolean;\n  onClick?: (e: React.MouseEvent<any>, props: any) => void;\n  componentClass: React.ReactType;\n  tooltipContainer?: any;\n  data?: any;\n  isMenuItem?: boolean;\n  active?: boolean;\n}\n\nconst allowedType = ['button', 'submit', 'reset'];\n\nexport class Action extends React.Component<ActionProps> {\n  static defaultProps = {\n    type: 'button' as 'button',\n    componentClass: 'button' as React.ReactType,\n    tooltipPlacement: 'bottom' as 'bottom',\n    activeClassName: 'is-active'\n  };\n\n  dom: any;\n\n  @autobind\n  handleAction(e: React.MouseEvent<any>) {\n    const {onAction, onClick, disabled} = this.props;\n\n    const result: any = onClick && onClick(e, this.props);\n\n    if (disabled || e.isDefaultPrevented() || result === false || !onAction) {\n      return;\n    }\n\n    e.preventDefault();\n    const action = pick(this.props, ActionProps) as ActionSchema;\n    onAction(e, action);\n  }\n\n  render() {\n    const {\n      type,\n      label,\n      icon,\n      iconClassName,\n      primary,\n      size,\n      level,\n      disabled,\n      block,\n      className,\n      componentClass,\n      tooltip,\n      disabledTip,\n      tooltipPlacement,\n      actionType,\n      link,\n      data,\n      activeClassName,\n      isCurrentUrl,\n      isMenuItem,\n      active,\n      activeLevel,\n      tooltipContainer,\n      classnames: cx\n    } = this.props;\n\n    let isActive = !!active;\n\n    if (actionType === 'link' && !isActive && link && isCurrentUrl) {\n      isActive = isCurrentUrl(link);\n    }\n\n    return isMenuItem ? (\n      <a\n        className={cx(className, {\n          [activeClassName || 'is-active']: isActive,\n          'is-disabled': disabled\n        })}\n        onClick={this.handleAction}\n      >\n        {label}\n        {icon ? <i className={cx('Button-icon', icon)} /> : null}\n      </a>\n    ) : (\n      <Button\n        className={cx(className, {\n          [activeClassName || 'is-active']: isActive\n        })}\n        size={size}\n        level={\n          activeLevel && isActive\n            ? activeLevel\n            : level || (primary ? 'primary' : undefined)\n        }\n        onClick={this.handleAction}\n        type={type && ~allowedType.indexOf(type) ? type : 'button'}\n        disabled={disabled}\n        componentClass={componentClass}\n        tooltip={filterContents(tooltip, data)}\n        disabledTip={filterContents(disabledTip, data)}\n        placement={tooltipPlacement}\n        tooltipContainer={tooltipContainer}\n        block={block}\n        iconOnly={!!(icon && !label && level !== 'link')}\n      >\n        {label ? <span>{filter(String(label), data)}</span> : null}\n        {icon ? <i className={cx('Button-icon', icon, iconClassName)} /> : null}\n      </Button>\n    );\n  }\n}\n\nexport default themeable(Action);\n\n@Renderer({\n  test: /(^|\\/)action$/,\n  name: 'action'\n})\nexport class ActionRenderer extends React.Component<\n  RendererProps &\n    Omit<ActionProps, 'onAction' | 'isCurrentUrl' | 'tooltipContainer'> & {\n      onAction: (\n        e: React.MouseEvent<any> | void | null,\n        action: object,\n        data: any\n      ) => void;\n      btnDisabled?: boolean;\n    }\n> {\n  @autobind\n  handleAction(e: React.MouseEvent<any> | void | null, action: any) {\n    const {env, onAction, data} = this.props;\n\n    if (action.confirmText && env.confirm) {\n      env\n        .confirm(filter(action.confirmText, data))\n        .then((confirmed: boolean) => confirmed && onAction(e, action, data));\n    } else {\n      onAction(e, action, data);\n    }\n  }\n\n  @autobind\n  isCurrentAction(link: string) {\n    const {env, data} = this.props;\n    return env.isCurrentUrl(filter(link, data));\n  }\n\n  render() {\n    const {env, disabled, btnDisabled, ...rest} = this.props;\n\n    return (\n      <Action\n        {...(rest as any)}\n        disabled={disabled || btnDisabled}\n        onAction={this.handleAction}\n        isCurrentUrl={this.isCurrentAction}\n        tooltipContainer={\n          env.getModalContainer ? env.getModalContainer : undefined\n        }\n      />\n    );\n  }\n}\n\n@Renderer({\n  test: /(^|\\/)button$/,\n  name: 'button'\n})\nexport class ButtonRenderer extends ActionRenderer {}\n\n@Renderer({\n  test: /(^|\\/)submit$/,\n  name: 'submit'\n})\nexport class SubmitRenderer extends ActionRenderer {}\n\n@Renderer({\n  test: /(^|\\/)reset$/,\n  name: 'reset'\n})\nexport class ResetRenderer extends ActionRenderer {}\n"
    ]
}