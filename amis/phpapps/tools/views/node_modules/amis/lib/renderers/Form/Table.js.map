{
    "version": 3,
    "file": "Table.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/Table.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {FormItem, FormControlProps, FormBaseControl} from './Item';\nimport cx from 'classnames';\nimport Button from '../../components/Button';\nimport {createObject, isObjectShallowModified} from '../../utils/helper';\nimport {RendererData, Action, Api, Payload, ApiObject} from '../../types';\nimport {isEffectiveApi} from '../../utils/api';\nimport {filter} from '../../utils/tpl';\nimport omit from 'lodash/omit';\nimport {dataMapping} from '../../utils/tpl-builtin';\nimport findIndex from 'lodash/findIndex';\nimport memoize from 'lodash/memoize';\nimport {SimpleMap} from '../../utils/SimpleMap';\nimport {Icon} from '../../components/icons';\nimport {TableSchema} from '../Table';\nimport {SchemaApi} from '../../Schema';\n\nexport interface TableControlSchema extends FormBaseControl, TableSchema {\n  type: 'table';\n\n  /**\n   * 可新增\n   */\n  addable?: boolean;\n\n  /**\n   * 是否可以拖拽排序\n   */\n  draggable?: boolean;\n\n  /**\n   * 新增 API\n   */\n  addApi?: SchemaApi;\n\n  /**\n   * 新增按钮\n   */\n  addBtnLabel?: string;\n\n  /**\n   * 新增图标\n   */\n  addBtnIcon?: string;\n\n  /**\n   * 显示新增按钮\n   */\n  showAddBtn?: boolean;\n\n  /**\n   * 可否删除\n   */\n  removable?: boolean;\n\n  /**\n   * 删除的 API\n   */\n  deleteApi?: SchemaApi;\n\n  /**\n   * 可否编辑\n   */\n  editable?: boolean;\n\n  /**\n   * 更新按钮名称\n   */\n  updateBtnLabel?: string;\n\n  /**\n   * 更新按钮图标\n   */\n  updateBtnIcon?: string;\n\n  /**\n   * 确认按钮文字\n   */\n  confirmBtnLabel?: string;\n\n  /**\n   * 确认按钮图标\n   */\n  confirmBtnIcon?: string;\n\n  /**\n   * 取消按钮文字\n   */\n  cancelBtnLabel?: string;\n\n  /**\n   * 取消按钮图标\n   */\n  cancelBtnIcon?: string;\n\n  /**\n   * 删除按钮文字\n   */\n  deleteBtnLabel?: string;\n\n  /**\n   * 删除按钮图标\n   */\n  deleteBtnIcon?: string;\n\n  /**\n   * 更新 API\n   */\n  updateApi?: SchemaApi;\n\n  /**\n   * 初始值，新增的时候\n   */\n  scaffold?: any;\n\n  /**\n   * 删除确认文字\n   */\n  deleteConfirmText?: string;\n\n  /**\n   * 值字段\n   */\n  valueField?: string;\n\n  /**\n   * 是否为确认的编辑模式。\n   */\n  needConfirm?: boolean;\n\n  /**\n   * 是否可以访问父级数据，正常 combo 已经关联到数组成员，是不能访问父级数据的。\n   */\n  canAccessSuperData?: boolean;\n}\n\nexport interface TableProps\n  extends FormControlProps,\n    Omit<TableControlSchema, 'type'> {}\n\nexport interface TableState {\n  columns: Array<any>;\n  editIndex: number;\n  buildItemProps: (props: any) => any;\n  editting?: any;\n  isCreateMode?: boolean;\n}\n\nexport default class FormTable extends React.Component<TableProps, TableState> {\n  static defaultProps = {\n    placeholder: '空',\n    scaffold: {},\n    addBtnIcon: 'plus',\n    updateBtnIcon: 'pencil',\n    deleteBtnIcon: 'minus',\n    confirmBtnIcon: 'check',\n    cancelBtnIcon: 'close',\n    valueField: ''\n  };\n\n  static propsList: Array<string> = [\n    'onChange',\n    'name',\n    'columns',\n    'label',\n    'scaffold',\n    'showAddBtn',\n    'addable',\n    'removable',\n    'editable',\n    'addApi',\n    'updateApi',\n    'deleteApi',\n    'needConfirm',\n    'canAccessSuperData'\n  ];\n\n  entries: SimpleMap<any, number>;\n  entityId: number = 1;\n  subForms: any = {};\n  editting: any = {};\n  constructor(props: TableProps) {\n    super(props);\n\n    this.state = {\n      columns: this.buildColumns(props),\n      editIndex: -1,\n      buildItemProps: this.buildItemProps.bind(this)\n    };\n\n    this.entries = new SimpleMap();\n    this.buildItemProps = this.buildItemProps.bind(this);\n    this.confirmEdit = this.confirmEdit.bind(this);\n    this.cancelEdit = this.cancelEdit.bind(this);\n    this.handleSaveTableOrder = this.handleSaveTableOrder.bind(this);\n    this.handleTableSave = this.handleTableSave.bind(this);\n    this.getEntryId = this.getEntryId.bind(this);\n    this.subFormRef = this.subFormRef.bind(this);\n  }\n\n  componentDidUpdate(nextProps: TableProps) {\n    const props = this.props;\n\n    if (props.columns !== nextProps.columns) {\n      this.setState({\n        columns: this.buildColumns(props)\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.entries.dispose();\n    this.buildItems.cache.clear?.();\n  }\n\n  subFormRef(form: any, x: number, y: number) {\n    this.subForms[`${x}-${y}`] = form;\n  }\n\n  validate(): any {\n    const {value, minLength, maxLength, translate: __} = this.props;\n\n    // todo: 如果当前正在编辑中，表单提交了，应该先让正在编辑的东西提交然后再做验证。\n    if (~this.state.editIndex) {\n      return __('请先处理表格编辑项');\n    }\n\n    if (minLength && (!Array.isArray(value) || value.length < minLength)) {\n      return __(\n        '组合表单成员数量不够，低于设定的最小{{minLength}}个，请添加更多的成员。',\n        {minLength}\n      );\n    } else if (maxLength && Array.isArray(value) && value.length > maxLength) {\n      return __(\n        '组合表单成员数量超出，超出设定的最大{{maxLength}}个，请删除多余的成员。',\n        {maxLength}\n      );\n    } else {\n      const subForms: Array<any> = [];\n      Object.keys(this.subForms).forEach(\n        key => this.subForms[key] && subForms.push(this.subForms[key])\n      );\n      if (subForms.length) {\n        return Promise.all(subForms.map(item => item.validate())).then(\n          values => {\n            if (~values.indexOf(false)) {\n              return __('内部表单验证失败');\n            }\n\n            return;\n          }\n        );\n      }\n    }\n  }\n\n  async doAction(action: Action, ctx: RendererData, ...rest: Array<any>) {\n    const {\n      onAction,\n      value,\n      valueField,\n      env,\n      onChange,\n      editable,\n      addApi,\n      translate: __\n    } = this.props;\n\n    if (action.actionType === 'add') {\n      const rows = Array.isArray(value) ? value.concat() : [];\n\n      if (addApi || action.payload) {\n        let toAdd = null;\n\n        if (isEffectiveApi(addApi, ctx)) {\n          const payload = await env.fetcher(addApi, ctx);\n          if (payload && !payload.ok) {\n            env.notify('error', payload.msg || __('请求失败'));\n            return;\n          } else if (payload && payload.ok) {\n            toAdd = payload.data;\n          }\n        } else {\n          toAdd = dataMapping(action.payload, ctx);\n        }\n\n        toAdd = Array.isArray(toAdd) ? toAdd : [toAdd];\n\n        toAdd.forEach((toAdd: any) => {\n          const idx = findIndex(\n            rows,\n            item => item[valueField as string] == toAdd[valueField as string]\n          );\n          // 应该只有配置了 valueField 的时候，才去删重复项\n          if (~idx && valueField) {\n            rows.splice(idx, 1);\n          }\n          rows.push(toAdd);\n        });\n\n        onChange(rows);\n\n        if (editable) {\n          this.startEdit(rows.length - 1, rows[rows.length - 1], true);\n        }\n\n        return;\n      } else {\n        return this.addItem(rows.length - 1);\n      }\n    } else if (\n      action.actionType === 'remove' ||\n      action.actionType === 'delete'\n    ) {\n      if (!valueField) {\n        return env.alert(__('请配置 valueField'));\n      } else if (!action.payload) {\n        return env.alert(__('action 上请配置 payload, 否则不清楚要删除哪个'));\n      }\n\n      const rows = Array.isArray(value) ? value.concat() : [];\n      let toRemove: any = dataMapping(action.payload, ctx);\n      toRemove = Array.isArray(toRemove) ? toRemove : [toRemove];\n\n      toRemove.forEach((toRemove: any) => {\n        const idx = findIndex(\n          rows,\n          item => item[valueField as string] == toRemove[valueField as string]\n        );\n        if (~idx) {\n          rows.splice(idx, 1);\n        }\n      });\n\n      onChange(rows);\n      // todo 如果配置删除 Api 怎么办？\n      return;\n    }\n\n    return onAction && onAction(action, ctx, ...rest);\n  }\n\n  addItem(index: number, payload: any = this.props.scaffold) {\n    const {value, onChange, needConfirm} = this.props;\n    let newValue = Array.isArray(value) ? value.concat() : [];\n    newValue.splice(index + 1, 0, {\n      ...payload\n    });\n    onChange(newValue);\n    index = Math.min(index + 1, newValue.length - 1);\n\n    if (needConfirm === false) {\n      onChange(newValue);\n    } else {\n      this.startEdit(index, newValue[index], true);\n    }\n  }\n\n  startEdit(index: number, editting?: any, isCreate: boolean = false) {\n    const value = this.props.value;\n    const scaffold = this.props.scaffold;\n    this.setState({\n      editIndex: index,\n      buildItemProps: this.buildItemProps.bind(this),\n      editting: this.editting =\n        editting || (value && value[index]) || scaffold || {},\n      isCreateMode: isCreate,\n      columns:\n        this.state.isCreateMode === isCreate\n          ? this.state.columns.concat()\n          : this.buildColumns(this.props, isCreate)\n    });\n  }\n\n  async confirmEdit() {\n    const {\n      value,\n      onChange,\n      scaffold,\n      addApi,\n      updateApi,\n      data,\n      env,\n      translate: __\n    } = this.props;\n\n    // form 是 lazyChange 的，先让他们 flush, 即把未提交的数据提交。\n    const subForms: Array<any> = [];\n    Object.keys(this.subForms).forEach(\n      key => this.subForms[key] && subForms.push(this.subForms[key])\n    );\n    subForms.forEach(form => form.flush());\n\n    let newValue = Array.isArray(value) ? value.concat() : [];\n    let item = {\n      ...this.editting\n    };\n\n    const origin = newValue[this.state.editIndex];\n    const isNew = !isObjectShallowModified(scaffold, origin, false);\n\n    let remote: Payload | null = null;\n    if (isNew && isEffectiveApi(addApi, createObject(data, item))) {\n      remote = await env.fetcher(addApi, createObject(data, item));\n    } else if (isEffectiveApi(updateApi, createObject(data, item))) {\n      remote = await env.fetcher(updateApi, createObject(data, item));\n    }\n\n    if (remote && !remote.ok) {\n      env.notify('error', remote.msg || __('保存失败'));\n      return;\n    } else if (remote && remote.ok) {\n      item = {\n        ...(((isNew ? addApi : updateApi) as ApiObject).replaceData\n          ? {}\n          : item),\n        ...remote.data\n      };\n    }\n\n    newValue.splice(this.state.editIndex, 1, item);\n\n    this.setState({\n      editIndex: -1,\n      columns: this.state.columns.concat(),\n      buildItemProps: this.buildItemProps.bind(this),\n      editting: null\n    });\n    onChange(newValue);\n  }\n\n  cancelEdit() {\n    const {value, onChange} = this.props;\n\n    if (this.state.isCreateMode) {\n      let newValue = Array.isArray(value) ? value.concat() : [];\n      newValue.splice(this.state.editIndex, 1);\n      onChange(newValue);\n    }\n\n    this.setState({\n      editIndex: -1,\n      columns: this.state.columns.concat(),\n      buildItemProps: this.buildItemProps.bind(this)\n    });\n  }\n\n  async removeItem(index: number) {\n    const {\n      value,\n      onChange,\n      deleteApi,\n      deleteConfirmText,\n      env,\n      data,\n      translate: __\n    } = this.props;\n    let newValue = Array.isArray(value) ? value.concat() : [];\n    const item = newValue[index];\n\n    if (!item) {\n      return;\n    }\n\n    const ctx = createObject(data, item);\n    if (isEffectiveApi(deleteApi, ctx)) {\n      const confirmed = await env.confirm(\n        deleteConfirmText ? filter(deleteConfirmText, ctx) : __('确认要删除？')\n      );\n      if (!confirmed) {\n        // 如果不确认，则跳过！\n        return;\n      }\n\n      const result = await env.fetcher(deleteApi, ctx);\n\n      if (!result.ok) {\n        env.notify('error', __('删除失败'));\n        return;\n      }\n    }\n\n    this.removeEntry(item);\n    newValue.splice(index, 1);\n    onChange(newValue);\n  }\n\n  buildItemProps(item: any, index: number) {\n    if (!this.props.editable) {\n      return null;\n    }\n\n    return {\n      quickEditEnabled: this.state.editIndex === index\n    };\n  }\n\n  buildColumns(props: TableProps, isCreateMode = false): Array<any> {\n    const env = this.props.env;\n    let columns: Array<any> = Array.isArray(props.columns)\n      ? props.columns.concat()\n      : [];\n    const ns = this.props.classPrefix;\n    const __ = this.props.translate;\n    const needConfirm = this.props.needConfirm;\n\n    let btns = [];\n    if (props.addable && props.showAddBtn !== false) {\n      btns.push({\n        children: ({key, rowIndex}: {key: any; rowIndex: number}) =>\n          ~this.state.editIndex && needConfirm !== false ? null : (\n            <Button\n              classPrefix={ns}\n              size=\"sm\"\n              key={key}\n              level=\"link\"\n              tooltip={__('新增一行')}\n              tooltipContainer={\n                env && env.getModalContainer ? env.getModalContainer : undefined\n              }\n              onClick={this.addItem.bind(this, rowIndex, undefined)}\n            >\n              {props.addBtnLabel ? <span>{props.addBtnLabel}</span> : null}\n              {props.addBtnIcon ? (\n                <Icon icon={props.addBtnIcon} className=\"icon\" />\n              ) : null}\n            </Button>\n          )\n      });\n    }\n\n    if (props.needConfirm === false) {\n      columns = columns.map(column => {\n        const quickEdit = column.quickEdit;\n\n        return quickEdit === false\n          ? omit(column, ['quickEdit'])\n          : {\n              ...column,\n              quickEdit: {\n                type: 'text',\n                ...quickEdit,\n                saveImmediately: true,\n                mode: 'inline'\n              }\n            };\n      });\n    } else if (props.editable) {\n      columns = columns.map(column => {\n        const quickEdit =\n          !isCreateMode && column.hasOwnProperty('quickEditOnUpdate')\n            ? column.quickEditOnUpdate\n            : column.quickEdit;\n\n        return quickEdit === false\n          ? omit(column, ['quickEdit'])\n          : {\n              ...column,\n              quickEdit: {\n                type: 'text',\n                ...quickEdit,\n                saveImmediately: true,\n                mode: 'inline'\n              }\n            };\n      });\n\n      btns.push({\n        children: ({\n          key,\n          rowIndex,\n          data\n        }: {\n          key: any;\n          rowIndex: number;\n          data: any;\n        }) =>\n          ~this.state.editIndex || (data && data.__isPlaceholder) ? null : (\n            <Button\n              classPrefix={ns}\n              size=\"sm\"\n              key={key}\n              level=\"link\"\n              tooltip={__('编辑当前行')}\n              tooltipContainer={\n                env && env.getModalContainer ? env.getModalContainer : undefined\n              }\n              onClick={() => this.startEdit(rowIndex)}\n            >\n              {props.updateBtnLabel ? (\n                <span>{props.updateBtnLabel}</span>\n              ) : null}\n              {props.updateBtnIcon ? (\n                <Icon icon={props.updateBtnIcon} className=\"icon\" />\n              ) : null}\n            </Button>\n          )\n      });\n\n      btns.push({\n        children: ({key, rowIndex}: {key: any; rowIndex: number}) =>\n          this.state.editIndex === rowIndex ? (\n            <Button\n              classPrefix={ns}\n              size=\"sm\"\n              key={key}\n              level=\"link\"\n              tooltip={__('保存')}\n              tooltipContainer={\n                env && env.getModalContainer ? env.getModalContainer : undefined\n              }\n              onClick={this.confirmEdit}\n            >\n              {props.confirmBtnLabel ? (\n                <span>{props.confirmBtnLabel}</span>\n              ) : null}\n              {props.confirmBtnIcon ? (\n                <Icon icon={props.confirmBtnIcon} className=\"icon\" />\n              ) : null}\n            </Button>\n          ) : null\n      });\n\n      btns.push({\n        children: ({key, rowIndex}: {key: any; rowIndex: number}) =>\n          this.state.editIndex === rowIndex ? (\n            <Button\n              classPrefix={ns}\n              size=\"sm\"\n              key={key}\n              level=\"link\"\n              tooltip={__('取消')}\n              tooltipContainer={\n                env && env.getModalContainer ? env.getModalContainer : undefined\n              }\n              onClick={this.cancelEdit}\n            >\n              {props.cancelBtnLabel ? (\n                <span>{props.cancelBtnLabel}</span>\n              ) : null}\n              {props.cancelBtnIcon ? (\n                <Icon icon={props.cancelBtnIcon} className=\"icon\" />\n              ) : null}\n            </Button>\n          ) : null\n      });\n    }\n\n    if (props.removable) {\n      btns.push({\n        children: ({\n          key,\n          rowIndex,\n          data\n        }: {\n          key: any;\n          rowIndex: number;\n          data: any;\n        }) =>\n          (~this.state.editIndex || (data && data.__isPlaceholder)) &&\n          needConfirm !== false ? null : (\n            <Button\n              classPrefix={ns}\n              size=\"sm\"\n              key={key}\n              level=\"link\"\n              tooltip={__('删除当前行')}\n              tooltipContainer={\n                env && env.getModalContainer ? env.getModalContainer : undefined\n              }\n              onClick={this.removeItem.bind(this, rowIndex)}\n            >\n              {props.deleteBtnLabel ? (\n                <span>{props.deleteBtnLabel}</span>\n              ) : null}\n              {props.deleteBtnIcon ? (\n                <Icon icon={props.deleteBtnIcon} className=\"icon\" />\n              ) : null}\n            </Button>\n          )\n      });\n    }\n\n    if (btns.length) {\n      columns.push({\n        type: 'operation',\n        buttons: btns,\n        label: __('操作'),\n        className: 'v-middle nowrap',\n        fixed: 'right',\n        width: '1%',\n        innerClassName: 'm-n'\n      });\n    }\n\n    return columns;\n  }\n\n  handleTableSave(\n    rows: Array<object> | object,\n    diff: Array<object> | object,\n    rowIndexes: Array<number> | number\n  ) {\n    const {onChange, value, needConfirm} = this.props;\n\n    const newValue = Array.isArray(value) ? value.concat() : [];\n\n    if (~this.state.editIndex) {\n      this.setState({\n        editting: this.editting = {\n          ...rows\n        }\n      });\n      return;\n    } else if (Array.isArray(rows)) {\n      (rowIndexes as Array<number>).forEach((rowIndex, index) => {\n        const data = {\n          ...newValue.splice(rowIndex, 1)[0],\n          ...(diff as Array<object>)[index]\n        };\n\n        newValue.splice(rowIndex, 0, data);\n      });\n    } else {\n      const idx = rowIndexes as number;\n      const origin = newValue[idx];\n      const data = {\n        ...newValue.splice(idx, 1)[0],\n        ...diff\n      };\n\n      newValue.splice(rowIndexes as number, 0, data);\n      this.entries.set(data, this.entries.get(origin) || this.entityId++);\n      // this.entries.delete(origin); // 反正最后都会清理的，先不删了吧。\n    }\n\n    onChange(newValue);\n  }\n\n  handleSaveTableOrder(moved: Array<object>, rows: Array<object>) {\n    const {onChange} = this.props;\n\n    onChange(rows.map((item: object) => ({...item})));\n  }\n\n  removeEntry(entry: any) {\n    if (this.entries.has(entry)) {\n      this.entries.delete(entry);\n    }\n  }\n\n  getEntryId(entry: any) {\n    if (entry === this.state.editting) {\n      return 'editting';\n    } else if (!this.entries.has(entry)) {\n      this.entries.set(entry, this.entityId++);\n    }\n\n    return String(this.entries.get(entry));\n  }\n\n  buildItems = memoize(\n    (value: Array<any>, editIndex: number) => {\n      return value.map((value: any, index: number) =>\n        index === editIndex ? this.state.editting : value\n      );\n    },\n    (...args: Array<any>) => JSON.stringify(args)\n  );\n\n  render() {\n    const {\n      className,\n      value,\n      showAddBtn,\n      disabled,\n      render,\n      placeholder,\n      draggable,\n      addable,\n      columnsTogglable,\n      combineNum,\n      translate: __,\n      canAccessSuperData\n    } = this.props;\n\n    return (\n      <div className={cx('form-control-table', className)}>\n        {render(\n          'body',\n          {\n            type: 'table',\n            placeholder: __(placeholder),\n            columns: this.state.columns,\n            affixHeader: false\n          },\n          {\n            value: undefined,\n            saveImmediately: true,\n            disabled,\n            draggable: draggable && !~this.state.editIndex,\n            items: this.buildItems(\n              Array.isArray(value) && value.length\n                ? value\n                : addable && showAddBtn !== false\n                ? [{__isPlaceholder: true}]\n                : [],\n              this.state.editIndex\n            ),\n            getEntryId: this.getEntryId,\n            onSave: this.handleTableSave,\n            onSaveOrder: this.handleSaveTableOrder,\n            buildItemProps: this.state.buildItemProps,\n            quickEditFormRef: this.subFormRef,\n            columnsTogglable: columnsTogglable,\n            combineNum: combineNum,\n            canAccessSuperData\n          }\n        )}\n      </div>\n    );\n  }\n}\n\n@FormItem({\n  test: /(^|\\/)form(?:\\/.+)?\\/control\\/table$/,\n  name: 'table-control'\n})\nexport class TableControlRenderer extends FormTable {}\n"
    ]
}