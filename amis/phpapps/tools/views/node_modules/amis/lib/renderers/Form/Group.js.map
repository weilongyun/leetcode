{
    "version": 3,
    "file": "Group.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/Group.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {Renderer, RendererProps} from '../../factory';\nimport {Schema} from '../../types';\nimport {\n  isVisible,\n  getWidthRate,\n  makeHorizontalDeeper\n} from '../../utils/helper';\nimport cx from 'classnames';\nimport {FormBaseControl, FormControlSchema, FormItemWrap} from './Item';\nimport getExprProperties from '../../utils/filter-schema';\nimport {SchemaClassName} from '../../Schema';\n\nexport type GroupSubControl = FormControlSchema & {\n  /**\n   * 列类名\n   */\n  columnClassName?: SchemaClassName;\n\n  /**\n   * 宽度占用比率。在某些容器里面有用比如 group\n   */\n  columnRatio?: number;\n};\n\n/**\n * Group 表单集合渲染器，能让多个表单在一行显示\n * 文档：https://baidu.gitee.io/amis/docs/components/form/group\n */\nexport interface GroupControlSchema extends FormBaseControl {\n  type: 'group';\n\n  /**\n   * FormItem 集合\n   */\n  controls: Array<GroupSubControl>;\n\n  /**\n   * 子表单项默认的展示模式\n   */\n  formMode?: 'normal' | 'horizontal' | 'inline';\n\n  /**\n   * 间隔\n   */\n  gap?: 'xs' | 'sm' | 'normal';\n\n  /**\n   * 配置时垂直摆放还是左右摆放。\n   */\n  direction?: 'horizontal' | 'vertical';\n}\n\nexport interface InputGroupProps\n  extends RendererProps,\n    Omit<GroupControlSchema, 'type'> {}\n\n@Renderer({\n  test: /(^|\\/)form(?:\\/.+)?\\/control\\/(?:\\d+\\/)?group$/,\n  name: 'group-control'\n})\nexport class ControlGroupRenderer extends React.Component<InputGroupProps> {\n  constructor(props: InputGroupProps) {\n    super(props);\n    this.renderInput = this.renderInput.bind(this);\n  }\n\n  renderControl(control: any, index: any, otherProps?: any) {\n    const {render, disabled, data} = this.props;\n\n    if (!control) {\n      return null;\n    }\n\n    const subSchema: any =\n      control && (control as Schema).type === 'control'\n        ? control\n        : {\n            type: 'control',\n            control\n          };\n\n    if (subSchema.control) {\n      let control = subSchema.control as Schema;\n\n      control = subSchema.control = {\n        ...control,\n        ...getExprProperties(control, data)\n      };\n\n      control.hiddenOn && (subSchema.hiddenOn = control.hiddenOn);\n      control.visibleOn && (subSchema.visibleOn = control.visibleOn);\n    }\n\n    return render(`${index}`, subSchema, {\n      ...otherProps,\n      disabled\n    });\n  }\n\n  renderVertical(props = this.props) {\n    let {controls, className, classnames: cx, mode, formMode, data} = props;\n    formMode = mode || formMode;\n\n    return (\n      <div\n        className={cx(\n          `Form-group Form-group--ver Form-group--${formMode}`,\n          className\n        )}\n      >\n        {controls.map((control, index) => {\n          if (!isVisible(control, data)) {\n            return null;\n          }\n\n          const controlMode = (control && control.mode) || formMode;\n\n          return this.renderControl(control, index, {\n            key: index,\n            formMode: controlMode\n          });\n        })}\n      </div>\n    );\n  }\n\n  renderHorizontal(props = this.props) {\n    let {\n      controls,\n      className,\n      classPrefix: ns,\n      classnames: cx,\n      mode,\n      horizontal,\n      formMode,\n      formHorizontal,\n      data,\n      gap\n    } = props;\n\n    formMode = mode || formMode;\n\n    let horizontalDeeper =\n      horizontal ||\n      makeHorizontalDeeper(\n        formHorizontal,\n        controls.filter(item => item.mode !== 'inline' && isVisible(item, data))\n          .length\n      );\n\n    return (\n      <div\n        className={cx(\n          `Form-group Form-group--hor Form-group--${formMode}`,\n          gap ? `Form-group--${gap}` : '',\n          className\n        )}\n      >\n        {controls.map((control, index) => {\n          if (!isVisible(control, data)) {\n            return null;\n          }\n          const controlMode = (control && control.mode) || formMode;\n\n          if (\n            controlMode === 'inline' ||\n            (control && (control as any).type === 'formula')\n          ) {\n            return this.renderControl(control, index, {\n              formMode: 'inline',\n              key: index,\n              className: cx(control.className, control.columnClassName)\n            });\n          }\n\n          const columnWidth =\n            control.columnRatio ||\n            getWidthRate(control && control.columnClassName, true);\n\n          return (\n            <div\n              key={index}\n              className={cx(\n                `${ns}Form-groupColumn`,\n                columnWidth ? `${ns}Form-groupColumn--${columnWidth}` : '',\n                control && control.columnClassName\n              )}\n            >\n              {this.renderControl(control, index, {\n                formHorizontal: horizontalDeeper,\n                formMode: controlMode\n              })}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  renderInput(props = this.props) {\n    const direction = props.direction;\n    return direction === 'vertical'\n      ? this.renderVertical(props)\n      : this.renderHorizontal(props);\n  }\n\n  render() {\n    const {label, ...rest} = this.props;\n\n    if (label) {\n      return (\n        <FormItemWrap\n          {...(rest as any)}\n          sizeMutable={false}\n          label={label}\n          renderControl={this.renderInput}\n        />\n      );\n    }\n\n    return this.renderInput();\n  }\n}\n"
    ]
}