{
    "version": 3,
    "file": "Panel.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Panel.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {Renderer, RendererProps} from '../factory';\nimport {SchemaNode, Action} from '../types';\nimport {getScrollParent, autobind} from '../utils/helper';\nimport {findDOMNode} from 'react-dom';\nimport {resizeSensor} from '../utils/resize-sensor';\nimport {\n  BaseSchema,\n  SchemaClassName,\n  SchemaCollection,\n  SchemaTpl\n} from '../Schema';\nimport {ActionSchema} from './Action';\n\n/**\n * Panel渲染器。\n * 文档：https://baidu.gitee.io/amis/docs/components/panel\n */\nexport interface PanelSchema extends BaseSchema {\n  /**\n   * 指定为Panel渲染器。\n   */\n  type: 'panel';\n\n  /**\n   * 按钮集合\n   */\n  actions?: Array<ActionSchema>;\n\n  /**\n   * 按钮集合外层类名\n   */\n  actionsClassName?: SchemaClassName;\n\n  /**\n   * 内容区域\n   */\n  body?: SchemaCollection;\n\n  /**\n   * 配置 Body 容器 className\n   */\n  bodyClassName?: SchemaClassName;\n\n  /**\n   * 底部内容区域\n   */\n  footer?: SchemaCollection;\n\n  /**\n   * 配置 footer 容器 className\n   */\n  footerClassName?: SchemaClassName;\n\n  /**\n   * 头部内容, 和 title 二选一。\n   */\n  header?: SchemaCollection;\n\n  /**\n   * 配置 header 容器 className\n   */\n  headerClassName?: SchemaClassName;\n\n  /**\n   * Panel 标题\n   */\n  title?: SchemaTpl;\n\n  /**\n   * 固定底部, 想要把按钮固定在底部的时候配置。\n   */\n  affixFooter?: boolean | 'always';\n}\n\nexport interface PanelProps extends RendererProps, PanelSchema {}\n\nexport default class Panel extends React.Component<PanelProps> {\n  static propsList: Array<string> = [\n    'header',\n    'headerClassName',\n    'footerClassName',\n    'actionsClassName',\n    'bodyClassName'\n  ];\n  static defaultProps = {\n    // className: 'Panel--default',\n    // headerClassName: 'Panel-heading',\n    // footerClassName: 'Panel-footer bg-light lter Wrapper',\n    // actionsClassName: 'Panel-footer',\n    // bodyClassName: 'Panel-body'\n  };\n\n  parentNode?: any;\n  unSensor: Function;\n  affixDom: React.RefObject<HTMLDivElement> = React.createRef();\n  footerDom: React.RefObject<HTMLDivElement> = React.createRef();\n  timer: NodeJS.Timeout;\n\n  componentDidMount() {\n    const dom = findDOMNode(this) as HTMLElement;\n    let parent: HTMLElement | Window | null = dom ? getScrollParent(dom) : null;\n    if (!parent || parent === document.body) {\n      parent = window;\n    }\n    this.parentNode = parent;\n    parent.addEventListener('scroll', this.affixDetect);\n    this.unSensor = resizeSensor(dom as HTMLElement, this.affixDetect);\n    this.affixDetect();\n  }\n\n  componentWillUnmount() {\n    const parent = this.parentNode;\n    parent && parent.removeEventListener('scroll', this.affixDetect);\n    this.unSensor && this.unSensor();\n    clearTimeout(this.timer);\n  }\n\n  @autobind\n  affixDetect() {\n    if (\n      !this.props.affixFooter ||\n      !this.affixDom.current ||\n      !this.footerDom.current\n    ) {\n      return;\n    }\n\n    const affixDom = this.affixDom.current;\n    const footerDom = this.footerDom.current;\n    let affixed = false;\n\n    if (footerDom.offsetWidth) {\n      affixDom.style.cssText = `width: ${footerDom.offsetWidth}px`;\n    } else {\n      this.timer = setTimeout(this.affixDetect, 250);\n      return;\n    }\n\n    if (this.props.affixFooter === 'always') {\n      affixed = true;\n      footerDom.classList.add('invisible2');\n    } else {\n      const clip = footerDom.getBoundingClientRect();\n      const clientHeight = window.innerHeight;\n      affixed = clip.top + clip.height / 2 > clientHeight;\n    }\n\n    affixed ? affixDom.classList.add('in') : affixDom.classList.remove('in');\n  }\n\n  renderBody(): JSX.Element | null {\n    const {\n      type,\n      className,\n      data,\n      header,\n      body,\n      render,\n      bodyClassName,\n      headerClassName,\n      actionsClassName,\n      footerClassName,\n      children,\n      title,\n      actions,\n      footer,\n      classPrefix: ns,\n      ...rest\n    } = this.props;\n\n    const subProps = {\n      data,\n      ...rest\n    };\n\n    return children\n      ? typeof children === 'function'\n        ? children(this.props)\n        : children\n      : body\n      ? render('body', body, subProps)\n      : null;\n  }\n\n  renderActions() {\n    const {actions, render} = this.props;\n\n    if (Array.isArray(actions) && actions.length) {\n      return actions.map((action, key) =>\n        render('action', action, {\n          type: action.type || 'button',\n          key: key\n        })\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      type,\n      className,\n      data,\n      header,\n      body,\n      render,\n      bodyClassName,\n      headerClassName,\n      actionsClassName,\n      footerClassName,\n      children,\n      title,\n      footer,\n      affixFooter,\n      classPrefix: ns,\n      classnames: cx,\n      ...rest\n    } = this.props;\n\n    const subProps = {\n      data,\n      ...rest\n    };\n\n    const footerDoms = [];\n    const actions = this.renderActions();\n    actions &&\n      footerDoms.push(\n        <div\n          key=\"actions\"\n          className={cx(`Panel-btnToolbar`, actionsClassName || `Panel-footer`)}\n        >\n          {actions}\n        </div>\n      );\n\n    footer &&\n      footerDoms.push(\n        <div key=\"footer\" className={cx(footerClassName || `Panel-footer`)}>\n          {render('footer', footer, subProps)}\n        </div>\n      );\n\n    let footerDom = footerDoms.length ? (\n      <div ref={this.footerDom}>{footerDoms}</div>\n    ) : null;\n\n    return (\n      <div className={cx(`Panel`, className || `Panel--default`)}>\n        {header ? (\n          <div className={cx(headerClassName || `Panel-heading`)}>\n            {render('header', header, subProps)}\n          </div>\n        ) : title ? (\n          <div className={cx(headerClassName || `Panel-heading`)}>\n            <h3 className={cx(`Panel-title`)}>\n              {render('title', title, subProps)}\n            </h3>\n          </div>\n        ) : null}\n\n        <div className={bodyClassName || `${ns}Panel-body`}>\n          {this.renderBody()}\n        </div>\n\n        {footerDom}\n\n        {affixFooter && footerDoms.length ? (\n          <div ref={this.affixDom} className={cx('Panel-fixedBottom')}>\n            {footerDoms}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\n@Renderer({\n  test: /(^|\\/)panel$/,\n  name: 'panel'\n})\nexport class PanelRenderer extends Panel {}\n"
    ]
}