{
    "version": 3,
    "file": "AssociatedCheckboxes.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/AssociatedCheckboxes.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * 关联多选框，仅支持两层关联选择。\n * 左边先点选，然后右边再次点选。\n * 可以满足，先从 tree 中选中一个元素，然后查出来一个列表再次勾选。\n */\n\nimport React from 'react';\nimport {BaseCheckboxesProps, BaseCheckboxes} from './Checkboxes';\nimport {Options, Option} from './Select';\nimport ListMenu from './ListMenu';\nimport {autobind} from '../utils/helper';\nimport ListRadios from './ListRadios';\nimport {themeable} from '../theme';\nimport {uncontrollable} from 'uncontrollable';\nimport ListCheckboxes from './ListCheckboxes';\nimport TableCheckboxes from './TableCheckboxes';\nimport TreeCheckboxes from './TreeCheckboxes';\nimport ChainedCheckboxes from './ChainedCheckboxes';\nimport Spinner from './Spinner';\nimport TreeRadios from './TreeRadios';\nimport {Icon} from './icons';\nimport {localeable} from '../locale';\n\nexport interface AssociatedCheckboxesProps extends BaseCheckboxesProps {\n  leftOptions: Options;\n  leftDefaultValue?: any;\n  leftMode?: 'tree' | 'list';\n  rightMode?: 'table' | 'list' | 'tree' | 'chained';\n  columns?: Array<any>;\n  cellRender?: (\n    column: {\n      name: string;\n      label: string;\n      [propName: string]: any;\n    },\n    option: Option,\n    colIndex: number,\n    rowIndex: number\n  ) => JSX.Element;\n}\n\nexport interface AssociatedCheckboxesState {\n  leftValue?: Option;\n}\n\nexport class AssociatedCheckboxes extends BaseCheckboxes<\n  AssociatedCheckboxesProps,\n  AssociatedCheckboxesState\n> {\n  state: AssociatedCheckboxesState = {\n    leftValue: this.props.leftDefaultValue\n  };\n\n  componentDidMount() {\n    const leftValue = this.state.leftValue;\n    const {options, onDeferLoad} = this.props;\n\n    if (leftValue) {\n      const selectdOption = ListRadios.resolveSelected(\n        leftValue,\n        options,\n        (option: Option) => option.ref\n      );\n\n      if (selectdOption && onDeferLoad && selectdOption.defer) {\n        onDeferLoad(selectdOption);\n      }\n    }\n  }\n\n  @autobind\n  leftOption2Value(option: Option) {\n    return option.value;\n  }\n\n  @autobind\n  handleLeftSelect(value: Option) {\n    const {options, onDeferLoad} = this.props;\n    this.setState({leftValue: value});\n\n    const selectdOption = ListRadios.resolveSelected(\n      value,\n      options,\n      (option: Option) => option.ref\n    );\n\n    if (selectdOption && onDeferLoad && selectdOption.defer) {\n      onDeferLoad(selectdOption);\n    }\n  }\n\n  handleRetry(option: Option) {\n    const {onDeferLoad} = this.props;\n    onDeferLoad?.(option);\n  }\n\n  render() {\n    const {\n      classnames: cx,\n      className,\n      leftOptions,\n      options,\n      option2value,\n      rightMode,\n      onChange,\n      columns,\n      value,\n      disabled,\n      leftMode,\n      cellRender\n    } = this.props;\n\n    const selectdOption = ListRadios.resolveSelected(\n      this.state.leftValue,\n      options,\n      (option: Option) => option.ref\n    );\n    const __ = this.props.translate;\n\n    return (\n      <div className={cx('AssociatedCheckboxes', className)}>\n        <div className={cx('AssociatedCheckboxes-left')}>\n          {leftMode === 'tree' ? (\n            <TreeRadios\n              option2value={this.leftOption2Value}\n              options={leftOptions}\n              value={this.state.leftValue}\n              disabled={disabled}\n              onChange={this.handleLeftSelect}\n              showRadio={false}\n            />\n          ) : (\n            <ListRadios\n              option2value={this.leftOption2Value}\n              options={leftOptions}\n              value={this.state.leftValue}\n              disabled={disabled}\n              onChange={this.handleLeftSelect}\n              showRadio={false}\n            />\n          )}\n        </div>\n        <div className={cx('AssociatedCheckboxes-right')}>\n          {this.state.leftValue ? (\n            selectdOption ? (\n              selectdOption.defer && !selectdOption.loaded ? (\n                <div className={cx('AssociatedCheckboxes-box')}>\n                  <div\n                    className={cx(\n                      'AssociatedCheckboxes-reload',\n                      selectdOption.loading ? 'is-spin' : 'is-clickable'\n                    )}\n                    onClick={\n                      selectdOption.loading\n                        ? undefined\n                        : this.handleRetry.bind(this, selectdOption)\n                    }\n                  >\n                    <Icon icon=\"reload\" className=\"icon\" />\n                  </div>\n\n                  {selectdOption.loading ? (\n                    <p>{__('加载中')}</p>\n                  ) : (\n                    <p>{__('点击刷新重新加载')}</p>\n                  )}\n                </div>\n              ) : rightMode === 'table' ? (\n                <TableCheckboxes\n                  columns={columns!}\n                  value={value}\n                  disabled={disabled}\n                  options={selectdOption.children || []}\n                  onChange={onChange}\n                  option2value={option2value}\n                  cellRender={cellRender}\n                />\n              ) : rightMode === 'tree' ? (\n                <TreeCheckboxes\n                  value={value}\n                  disabled={disabled}\n                  options={selectdOption.children || []}\n                  onChange={onChange}\n                  option2value={option2value}\n                />\n              ) : rightMode === 'chained' ? (\n                <ChainedCheckboxes\n                  value={value}\n                  disabled={disabled}\n                  options={selectdOption.children || []}\n                  onChange={onChange}\n                  option2value={option2value}\n                />\n              ) : (\n                <ListCheckboxes\n                  value={value}\n                  disabled={disabled}\n                  options={selectdOption.children || []}\n                  onChange={onChange}\n                  option2value={option2value}\n                />\n              )\n            ) : (\n              <div className={cx('AssociatedCheckboxes-box')}>\n                {__('配置错误，选项无法与左侧选项对应')}\n              </div>\n            )\n          ) : (\n            <div className={cx('AssociatedCheckboxes-box')}>\n              {__('请先选择左侧数据')}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default themeable(\n  localeable(\n    uncontrollable(AssociatedCheckboxes, {\n      value: 'onChange'\n    })\n  )\n);\n"
    ]
}